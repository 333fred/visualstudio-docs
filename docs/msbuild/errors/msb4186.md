---
title: "MSB4186 diagnostic code"
description: "Invalid static method invocation syntax: 'value'. 'value' Static method invocation should be of the form: $([FullTypeName]::Method()), e.g. $([System.IO.Path]::Combine(`a`, `b`)). Check that all parameters are defined, are of the correct type, and are specified in the right order."
ms.date: 12/06/2024
ms.topic: "error-reference"
f1_keywords:
 - MSB4186
 - MSBuild.InvalidFunctionStaticMethodSyntax
dev_langs:
  - "VB"
  - "CSharp"
  - "C++"
  - "FSharp"
author: ghogen
ms.author: ghogen
manager: mijacobs
ms.subservice: msbuild
---

# MSB4186 diagnostic code

<!-- :::ErrorDefinitionDescription::: -->
<!-- :::editable-content name="introDescription"::: -->
This article describes the MSB4186 error code.
<!-- :::editable-content-end::: -->

## Message text

```output
MSB4186: Invalid static method invocation syntax: 'value'. 'value' Static method invocation should be of the form: $([FullTypeName]::Method()), e.g. $([System.IO.Path]::Combine(`a`, `b`)). Check that all parameters are defined, are of the correct type, and are specified in the right order.
```

<!-- :::editable-content name="postOutputDescription"::: -->
<!--
{StrBegin="MSB4186: "}
      UE: This message is shown when the user attempts to call a static method on a type, but has used the incorrect syntax
      LOCALIZATION: "{0}" is the function expression which is in error. "{1}" is a message from an FX exception that describes why the expression is bad.
-->

## Overview of `InvalidFunctionStaticMethodSyntax`

The error code `InvalidFunctionStaticMethodSyntax` is typically raised when MSBuild encounters a syntax issue related to static method invocation in the project file. This error generally occurs during the parsing or evaluation of the MSBuild project file when a function call does not conform to the expected static method syntax.

## Instances of `InvalidFunctionStaticMethodSyntax`

### Instance 1: Static Method Invocation Parsing

#### **Context**
The error is logged in the section of the code responsible for evaluating property functions in MSBuild. Specifically, it occurs when the parser attempts to resolve a static method but finds that the syntax for the method call is not valid. The relevant code often involves parsing strings that represent method calls (e.g., `Namespace.ClassName.MethodName(arguments)`).

The error is triggered in scenarios where:
- The method name or class is missing or malformed.
- The parentheses or argument list is incorrectly formatted.

#### **Possible Cause**
This error occurs due to issues in the MSBuild project file where a static method is invoked with incorrect syntax. For example:
- Forgetting to include parentheses when calling a method: `ClassName.MethodName` instead of `ClassName.MethodName()`.
- Using invalid characters or spacing in the method invocation: `ClassName . MethodName()`, or `Namespace..ClassName.MethodName()`.
- Attempting to call an instance method as if it were static.
- Providing an invalid or unresolved namespace or class name.

#### **Resolution or Workaround**
1. **Correct the syntax in the project file**:
   - Ensure that the method call has proper parentheses, even if no arguments are passed.
   - Verify that the namespace, class name, and method name are all correctly spelled and properly formatted.

   **Example:**
   ```xml
   <!-- Invalid -->
   $(ClassName.MethodName)

   <!-- Correct -->
   $(ClassName.MethodName())
   ```

2. **Validate the method's static nature**:
   - Confirm that the method being called is defined as `static` in the referenced class. If the method is not static, modify the method or call an appropriate static alternative.

3. **Ensure proper namespace resolution**:
   - Verify that the namespace and class are accessible and correctly defined in the project or imported assemblies.

### Instance 2: Dynamic Property Evaluation

#### **Context**
Another occurrence of this error appears during the evaluation of dynamic properties. MSBuild allows properties to be evaluated using function calls. If the syntax does not match the static method requirements, `InvalidFunctionStaticMethodSyntax` is raised.

For instance, when using a property function like `$(Foo.Bar())`, the parser expects `Foo` to represent a valid class or object and `Bar` to be a static method.

#### **Possible Cause**
- Attempting to invoke a property or method that does not exist in the given context.
- Using a method that requires instance context, but calling it as though it were static.
- Misconfiguring a property function to reference an invalid or non-static method.

#### **Resolution or Workaround**
1. **Check the property function definition**:
   - Ensure that the property function references a valid static method. If the method is not static, refactor the method or modify the project file to use an alternative approach.

   **Example:**
   ```xml
   <!-- Invalid -->
   <PropertyGroup>
       <MyProperty>$(Foo.Bar)</MyProperty>
   </PropertyGroup>

   <!-- Correct -->
   <PropertyGroup>
       <MyProperty>$(Foo.Bar())</MyProperty>
   </PropertyGroup>
   ```

2. **Debug unresolved symbols**:
   - Use logging or debugging techniques to identify whether the `Foo` class or `Bar` method is accessible and properly defined.

3. **Avoid dynamic evaluation for non-static members**:
   - If the method requires an object instance, avoid calling it directly in the MSBuild file. Instead, precompute the value in a task or script and pass it as a property.

### Instance 3: Task Initialization or Custom MSBuild Functions

#### **Context**
Custom MSBuild tasks or functions defined in assemblies may also trigger this error if the syntax for invoking static methods is incorrect. This often happens when custom logic is used in the MSBuild project file and relies on external assemblies.

#### **Possible Cause**
- The custom assembly may not expose the required method as static.
- The MSBuild file may reference the method incorrectly, using invalid syntax.

#### **Resolution or Workaround**
1. **Verify the custom assembly**:
   - Ensure that the custom method is defined as static in the assembly. If it is not, modify the assembly or use a different method.

2. **Ensure proper assembly loading**:
   - Confirm that the custom assembly is correctly loaded and referenced in the MSBuild project. Use the `<UsingTask>` element to define tasks and ensure the assembly is available in the expected location.

3. **Test method invocations**:
   - Test the custom method invocation outside the MSBuild context (e.g., in a standalone C# application) to ensure that the syntax and behavior are valid.

## General Recommendations

1. **Use Logging for Debugging**:
   - Enable diagnostic logging in MSBuild to get detailed error messages and stack traces. This helps identify the exact location in the project file where the error occurs.

   **Command:**
   ```bash
   msbuild /v:diag
   ```

2. **Follow Static Method Syntax Standards**:
   - Always use the fully qualified name for classes and methods.
   - Ensure proper use of parentheses and arguments.

3. **Leverage IDEs and Tools**:
   - Use an IDE or text editor with XML and MSBuild schema validation to catch syntax errors early.

4. **Update MSBuild Version**:
   - If the issue persists and seems unrelated to the project file, consider updating to the latest version of MSBuild, as newer versions may have improved error handling or better diagnostics.

By addressing the underlying causes of `InvalidFunctionStaticMethodSyntax`, you can ensure that your MSBuild project files are robust, maintainable, and free of syntax-related errors. If additional clarification is needed for a specific scenario, providing a snippet of the relevant project file or code would be helpful.
<!-- :::editable-content-end::: -->
<!-- :::ErrorDefinitionDescription-end::: -->

## Applies to

All versions of MSBuild
