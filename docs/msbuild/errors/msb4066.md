---
title: "MSB4066 diagnostic code"
description: "The attribute 'value' in element 'value' is unrecognized."
ms.date: 1/15/2025
ms.topic: "error-reference"
f1_keywords:
 - MSB4066
 - MSBuild.UnrecognizedAttribute
dev_langs:
  - "VB"
  - "CSharp"
  - "C++"
  - "FSharp"
author: ghogen
ms.author: ghogen
manager: mijacobs
ms.subservice: msbuild
---

# MSB4066 diagnostic code

<!-- :::ErrorDefinitionDescription::: -->
<!-- :::editable-content name="introDescription"::: -->
This article describes the MSB4066 error code.
<!-- :::editable-content-end::: -->

## Message text

```output
MSB4066: The attribute 'value' in element 'value' is unrecognized.
```

<!-- :::editable-content name="postOutputDescription"::: -->

## Instance 1: `UnrecognizedAttribute` in XML Parsing Context

### **Context**
The error code `UnrecognizedAttribute` is typically logged during the parsing of an XML file (e.g., `*.proj`, `*.targets`, or `*.props` files) when MSBuild encounters an attribute in an element that is not defined or expected. The relevant code logic is often located in the XML handling or schema validation components of MSBuild, such as in `XmlReader` or custom MSBuild project configuration parsers.

An example code segment where the error might be raised:
```csharp
if (!knownAttributes.Contains(attributeName))
{
    LogError("UnrecognizedAttribute", attributeName, elementName, location);
}
```

### **Possible Cause**
This error is caused by an attribute in the project file that is not recognized by the MSBuild engine. This could happen due to:
- A typo in the attribute name (e.g., `Condtion` instead of `Condition`).
- An attribute that is not valid for the specific XML element (e.g., using `OutputPath` on a task element instead of a property group).
- The use of custom attributes that MSBuild does not natively support or expect.
- Mixing of MSBuild versions where newer attributes are not recognized in an older MSBuild runtime.

### **Resolutions or Workarounds**
1. **Verify XML Syntax**: Double-check the spelling and casing of the attribute name. MSBuild attributes are case-sensitive.
2. **Consult Documentation**: Refer to the official MSBuild documentation for the expected attributes of the specific XML element.
3. **Upgrade MSBuild Version**: If the attribute is valid in newer versions of MSBuild, ensure you are using the appropriate MSBuild runtime.
4. **Custom MSBuild Extensions**: If you are using custom attributes, consider extending MSBuild with tasks or targets that properly handle them or refactor the project file to avoid their usage.
5. **Validation Tools**: Use XML schema validation tools to detect invalid attributes in the build file.

## Instance 2: `UnrecognizedAttribute` in Task Definitions

### **Context**
MSBuild tasks are defined using `<UsingTask>` elements or inline task definitions. This error can occur when an unrecognized attribute is specified on a `<UsingTask>` element or its child elements.

An example code segment:
```xml
<UsingTask TaskName="CustomTask" AssemblyFile="CustomTasks.dll" InvalidAttribute="unexpected" />
```

The error is logged when MSBuild attempts to parse the `<UsingTask>` declaration and encounters an attribute that is not valid for that element.

### **Possible Cause**
- The `<UsingTask>` element is defined with an attribute that is not supported (e.g., `InvalidAttribute` in the above example).
- A misunderstanding of the `<UsingTask>` schema, leading to the inclusion of unsupported attributes.
- A typo in the attribute name.

### **Resolutions or Workarounds**
1. **Validate Task Attributes**: Ensure that only supported attributes like `TaskName`, `AssemblyFile`, or `AssemblyName` are used.
2. **Remove Unsupported Attributes**: Eliminate any attributes not mentioned in the MSBuild documentation for `<UsingTask>`.
3. **Correct Typos**: Check for and fix any typographical errors in the attribute names.

## Instance 3: `UnrecognizedAttribute` in PropertyGroup Definitions

### **Context**
MSBuild uses `<PropertyGroup>` elements to define properties. This error can occur when an attribute is specified on a `<PropertyGroup>` element that does not support attributes.

Example:
```xml
<PropertyGroup InvalidAttribute="unexpected">
    <OutputPath>bin\Debug\</OutputPath>
</PropertyGroup>
```

In this case, `InvalidAttribute` is not valid for the `<PropertyGroup>` element.

### **Possible Cause**
- Misunderstanding the schema of `<PropertyGroup>`, which does not allow attributes.
- An attempt to add metadata or configuration directly to a `<PropertyGroup>` element instead of defining them as child properties.

### **Resolutions or Workarounds**
1. **Remove Attributes**: Remove all attributes from the `<PropertyGroup>` element. Configuration should be defined within child elements.
2. **Use Metadata Elements**: If metadata needs to be defined, use appropriate constructs like `<ItemGroup>` or custom metadata definitions.

## Instance 4: `UnrecognizedAttribute` in Target Definitions

### **Context**
MSBuild targets are declared using `<Target>` elements. This error is raised when an unsupported attribute is added to a `<Target>` element.

Example:
```xml
<Target Name="Build" InvalidAttribute="unexpected">
    <Message Text="Building the project..." />
</Target>
```

Here, `InvalidAttribute` is not recognized as a valid attribute for the `<Target>` element.

### **Possible Cause**
- Including attributes that are not part of the `<Target>` schema, such as `InvalidAttribute`.
- Misusing attributes meant for other elements, like trying to use `Condition` in an invalid context.

### **Resolutions or Workarounds**
1. **Refer to the Schema**: Ensure that only valid attributes like `Name`, `DependsOnTargets`, and `Condition` are used on the `<Target>` element.
2. **Remove Extraneous Attributes**: Eliminate any attributes that are not supported.
3. **Refactor Logic**: If the invalid attribute is meant to convey specific logic, refactor the logic into valid MSBuild constructs (e.g., conditions or properties).

## General Notes on `UnrecognizedAttribute`

- **Error Logging**: In the MSBuild source code, this error is typically logged using a centralized error-logging mechanism, often tied to XML parsing and validation components.
- **Best Practices**: Always adhere to the official MSBuild schema and use tools like Visual Studio's IntelliSense or the MSBuild SDK to validate project files.

By addressing the root causes of `UnrecognizedAttribute` errors as detailed above, you can ensure robust and predictable MSBuild configurations.
<!-- :::editable-content-end::: -->
<!-- :::ErrorDefinitionDescription-end::: -->

## Applies to

All versions of MSBuild
