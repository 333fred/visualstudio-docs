---
title: "MSB3248 diagnostic code"
description: "Parameter 'value' has invalid value 'value'."
ms.date: 1/15/2025
ms.topic: "error-reference"
f1_keywords:
 - MSB3248
 - MSBuild.ResolveAssemblyReference.InvalidParameter
dev_langs:
  - "VB"
  - "CSharp"
  - "C++"
  - "FSharp"
author: ghogen
ms.author: ghogen
manager: mijacobs
ms.subservice: msbuild
---

# MSB3248 diagnostic code

<!-- :::ErrorDefinitionDescription::: -->
<!-- :::editable-content name="introDescription"::: -->
This article describes the MSB3248 error code.
<!-- :::editable-content-end::: -->

## Message text

```output
MSB3248: Parameter 'value' has invalid value 'value'.
```

<!-- :::editable-content name="postOutputDescription"::: -->
## Remarks

The error code MSB3248 is usually associated with incorrect or invalid usage of parameters during the resolution of assembly references. Below is a detailed breakdown of the contexts, causes, and resolutions for each identified location in the source code.

### Instance 1: Invalid Metadata on Assembly References

#### **Context**
The error is logged when a particular metadata value associated with an assembly reference is invalid or does not conform to the expected format. For example, if a parameter like `HintPath`, `Private`, or `SpecificVersion` has invalid or unexpected data, the MSBuild task `ResolveAssemblyReference` may fail and emit this error.

#### **Possible Cause**
- A project file (.csproj, .vbproj, etc.) contains malformed or unsupported metadata for an assembly reference.
- Custom MSBuild tasks or targets override standard parameters with invalid values.
- A developer inadvertently specifies an incorrect value in a parameter, such as using a non-boolean string for a boolean metadata property like `Private`.

#### **Resolution or Workaround**
- **Validate Project File Metadata**: Ensure all metadata for assembly references in the project file is correctly formatted and complies with the expected schema.
- **Use Standard Metadata**: Avoid using custom or unsupported metadata unless absolutely necessary. When using custom tasks, ensure they correctly handle non-standard parameters.
- **Debugging Tip**: Run MSBuild with the `/v:diag` verbosity level to identify the metadata being processed. Check if there is any corruption or unexpected value.

---

### Instance 2: Missing Required Parameters

#### **Context**
The error is triggered when one or more required parameters for assembly resolution are not provided. For example, if a critical parameter such as `AssemblyName` is missing, MSBuild cannot resolve the reference and logs this error.

#### **Possible Cause**
- A project file does not define the necessary properties or metadata for a given assembly reference.
- An automated process (e.g., a build script) generates incomplete or invalid project files.
- A custom MSBuild task calls `ResolveAssemblyReference` without setting up all required inputs.

#### **Resolution or Workaround**
- **Ensure Required Parameters Are Defined**: Check the project file or the script that generates it to ensure all required parameters are present and correctly specified.
- **Fallback to Defaults**: For missing optional parameters, MSBuild may use default values. Ensure that default values are acceptable for the build scenario.
- **Static Code Analysis**: Use tools to analyze project files and detect missing parameters before invoking MSBuild.

---

### Instance 3: Invalid Values in `AppConfigFile` or `WebConfigFile`

#### **Context**
The `ResolveAssemblyReference` task can be used to analyze application configuration files (e.g., `App.config` or `Web.config`). If these files contain invalid configuration sections or malformed XML, this error may be raised.

#### **Possible Cause**
- The configuration file is malformed or contains invalid XML syntax.
- The configuration file includes unsupported or unrecognized elements for assembly binding redirects.
- A merge or transformation process (e.g., during CI/CD) corrupts the configuration file.

#### **Resolution or Workaround**
- **Validate Configuration Files**: Use an XML schema validation tool to ensure the configuration files are well-formed and conform to the expected schema.
- **Check for Merge Conflicts**: When merging configuration files, review the output to ensure no corruption or duplication of elements occurs.
- **Use Transformations Carefully**: If using tools like `SlowCheetah` or custom scripts for configuration transformations, ensure they are correctly implemented.

---

### Instance 4: Unsupported Framework or Target Platform

#### **Context**
The error may occur when attempting to resolve assembly references for a target framework or platform that is not supported by the current version of MSBuild.

#### **Possible Cause**
- The project targets a framework that is not installed or recognized by MSBuild.
- The project uses custom target platform identifiers that the `ResolveAssemblyReference` task does not support.

#### **Resolution or Workaround**
- **Install Required Frameworks**: Ensure the target framework and platform are correctly installed on the build agent or developer machine.
- **Upgrade MSBuild**: Use the latest version of MSBuild to ensure compatibility with newer frameworks.
- **Specify Target Framework Explicitly**: Use the `TargetFramework` and `TargetPlatform` properties in the project file to explicitly define the desired framework and platform.

---

### Instance 5: Circular References in Dependencies

#### **Context**
If one or more dependencies in the assembly reference graph form a circular reference, MSBuild may log this error during the resolution process.

#### **Possible Cause**
- A project or assembly has a dependency on another project or assembly that indirectly references the original one, creating a circular reference.
- Incorrectly defined project references in multi-project solutions.

#### **Resolution or Workaround**
- **Break Circular Dependencies**: Refactor the project structure to eliminate circular references. Consider using interfaces or dependency injection to reduce coupling.
- **Analyze Dependency Graph**: Use tools like `dotnet list package` or third-party dependency analysis tools to visualize and resolve circular dependencies.
- **Isolate Problematic References**: Temporarily exclude problematic references to identify and address the root cause.

---

## General Recommendations

To minimize the occurrence of MSB3248 errors:

1. **Use Valid Metadata**: Always adhere to the supported metadata schema and avoid custom metadata unless necessary.
2. **Test Configuration Changes**: Validate project and configuration files after every manual or automated modification.
3. **Leverage Diagnostics**: Use MSBuild's diagnostic verbosity (`/v:diag`) to identify and troubleshoot parameter-related issues effectively.
4. **Keep MSBuild Updated**: Ensure you're using the latest MSBuild version to avoid compatibility issues with newer frameworks or project formats.

By addressing the specific causes and following these recommendations, you can mitigate most cases that lead to this error code.
<!-- :::editable-content-end::: -->
<!-- :::ErrorDefinitionDescription-end::: -->

## Applies to

All versions of MSBuild
