---
title: "MSB3245: Could not resolve this reference. 'assembly' If this reference is required by your code, you may get compilation errors."
description: "This diagnostic code is emitted when MSBuild can't find an assembly referenced in your project."
ms.date: 1/15/2025
ms.topic: "error-reference"
f1_keywords:
 - MSB3245
 - MSBuild.ResolveAssemblyReference.FailedToResolveReference
dev_langs:
  - "VB"
  - "CSharp"
  - "C++"
  - "FSharp"
author: ghogen
ms.author: ghogen
manager: mijacobs
ms.subservice: msbuild
---
# MSB3245

This diagnostic code is emitted when MSBuild can't resolve an assembly reference in your project.

The full message resembles the following text:

```output
MSB3245: Could not resolve this reference. 'assembly' If this reference is required by your code, you may get compilation errors.
```

This error might occur if the item is a directory, not a file, or it could occur if the assembly resolver for that reference returns an error. It could be any error that prevents resolution of the reference, such as a missing assembly, misspelled name, version mismatch, mismatched processor architecture, or failed `ProjectReference`.

For a guide on resolving errors with assembly references, see [Troubleshoot assembly references](../troubleshoot-assembly-references.md).

## Remarks

The error code MSB3245 is used in MSBuild to indicate that a requested assembly reference could not be resolved. This typically occurs during the `ResolveAssemblyReference` task, which is responsible for locating and resolving assembly references required for a build. The error is often logged when a referenced assembly is missing, misconfigured, or otherwise inaccessible.

### Instance 1: Missing Assembly in Search Paths

#### **Context**
The error is logged when the `ResolveAssemblyReference` task iterates through the provided search paths (for example, directories specified via `ReferencePath` or default search locations) and fails to find the specified assembly. The relevant code typically follows this sequence:
1. The task receives a list of unresolved references.
2. It searches for these references in the configured paths.
3. If no match is found, the error MSB3245 is logged.

#### **Possible Causes**
- The assembly is not present in any of the specified search paths.
- The search paths are misconfigured or incomplete.
- The referenced assembly was removed or relocated, and the project file was not updated.
- The assembly name is incorrect due to a typo or incorrect version specified in the project file.

#### **Resolutions or Workarounds**
- **Verify Search Paths**: Ensure that all necessary directories containing the assemblies are included in the `ReferencePath` or other relevant properties.
- **Check Assembly Location**: Confirm that the assembly exists at the expected location and matches the version and name specified in the project file.
- **Use NuGet Packages**: If applicable, consider managing the assembly as a NuGet package to ensure consistent resolution across environments.
- **Enable Detailed Logging**: Use MSBuild's `/v:diag` flag to get detailed logs of the search paths used during resolution and identify where the breakdown occurs.


### Instance 2: Conflicting or Ambiguous References

#### **Context**
The error is triggered when multiple assemblies with the same name are found in the search paths, and MSBuild cannot determine which one to use. This ambiguity leads to a failure to resolve the reference.

#### **Possible Causes**
- Multiple assemblies with the same name exist in different directories within the search paths.
- The project file or a dependency specifies an ambiguous or incomplete reference (for example, missing version, culture, or public key token).
- A custom task or tool inserts additional search paths that conflict with the expected resolution order.

#### **Resolutions or Workarounds**
- **Specify Exact Assembly Details**: In the project file, provide the full assembly identity, including version, culture, and public key token, to avoid ambiguity.
- **Review Search Path Order**: Ensure that search paths are ordered correctly, with the most relevant paths appearing first.
- **Clean Intermediate Outputs**: Delete all intermediate build outputs to ensure no stale or conflicting assemblies are being picked up.
- **Use Binding Redirects**: If the ambiguity arises from versioning conflicts, consider using binding redirects in `app.config` or `web.config` to resolve the correct version.

### Instance 3: Inaccessible Assembly Files

#### **Context**
This error occurs when the assembly file exists but is inaccessible due to file system permissions, file locks, or other environmental issues. The error is logged after MSBuild attempts to load or access the file and fails.

#### **Possible Causes**
- Lack of read permissions for the assembly file.
- The file is locked by another process, such as an IDE, antivirus software, or another build process.
- File corruption or incomplete downloads if the assembly is fetched from a remote source.

#### **Resolutions or Workarounds**
- **Check File Permissions**: Ensure that the user running the build process has appropriate permissions to access all required assembly files.
- **Terminate Conflicting Processes**: Close any processes that might be locking the file, such as Visual Studio or other tools.
- **Verify File Integrity**: Check the assembly file for corruption or incomplete transfer and replace it if necessary.
- **Retry Build**: Retry the build process after resolving the access issue to confirm that the problem is resolved.

### Instance 4: Incorrect Framework Targeting

#### **Context**
The error is logged when the target framework specified in the project file does not match the framework of the referenced assembly, resulting in a failure to resolve the reference.

#### **Possible Causes**
- The project targets a framework that is incompatible with the referenced assembly.
- The assembly was built for a different runtime (for example, .NET Core vs. .NET Framework).
- The project file specifies an incorrect or outdated target framework version.

#### **Resolutions or Workarounds**
- **Update Target Framework**: Update the project file to target a framework compatible with the referenced assembly.
- **Use Compatible Assemblies**: Replace the incompatible assembly with one built for the correct target framework.
- **Multi-Targeting**: If required, use multi-targeting in the project file to build for multiple frameworks and ensure compatibility.
- **Check Dependencies**: Verify that all transitive dependencies are compatible with the specified framework.

## General Recommendations for Avoiding MSB3245

- **Keep Dependencies Updated**: Regularly update NuGet packages and other dependencies to ensure compatibility and availability.
- **Use Dependency Management Tools**: Leverage tools like NuGet to centralize dependency management and avoid manual path configurations.
- **Enable Warnings as Errors**: Configure your build to treat warnings as errors for unresolved references to catch issues early.
- **Test Build Environment**: Validate that your build environment (for example, CI/CD pipelines or developer machines) has consistent configurations and necessary files.

This analysis provides a focused examination of contexts, causes, and resolutions tied to MSB3245. For further debugging, enabling MSBuild diagnostic logs and inspecting the task's input and output parameters can provide additional insights.
