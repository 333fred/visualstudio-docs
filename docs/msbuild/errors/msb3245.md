---
title: "MSB3245: Could not resolve this reference. 'assembly' If this reference is required by your code, you may get compilation errors."
description: "This diagnostic code is emitted when MSBuild can't find an assembly referenced in your project."
ms.date: 1/15/2025
ms.topic: "error-reference"
f1_keywords:
 - MSB3245
 - MSBuild.ResolveAssemblyReference.FailedToResolveReference
dev_langs:
  - "VB"
  - "CSharp"
  - "C++"
  - "FSharp"
author: ghogen
ms.author: ghogen
manager: mijacobs
ms.subservice: msbuild
---
# MSB3245

This diagnostic code is emitted when MSBuild can't resolve an assembly reference in your project.

The full message resembles the following text:

```output
MSB3245: Could not resolve this reference. 'assembly' If this reference is required by your code, you may get compilation errors.
```

This error might occur if the item is a directory, not a file, or it could occur if the assembly resolver for that reference returns an error. It could be any error that prevents resolution of the reference, such as a missing assembly, misspelled name, version mismatch, mismatched processor architecture, or failed `ProjectReference`.

For a guide on resolving errors with assembly references, see [Troubleshoot assembly references](../troubleshoot-assembly-references.md).

## Remarks

The MSB3245 error in MSBuild is logged in scenarios where the build process fails to resolve a specified assembly reference. Below are detailed analyses for all instances where this error code is generated:

### Instance 1: Missing or Invalid Assembly Reference

#### Context
The error is logged when MSBuild attempts to resolve an assembly reference specified in the project file or a dependency, but the reference cannot be located in any of the specified search paths or directories. This typically occurs during the ResolveAssemblyReferences task, which is responsible for determining the physical file paths of assembly references.
#### Possible Cause
- The assembly reference is specified incorrectly in the project file. For example:
  - A misspelled or incorrect assembly name.
  - A version of the assembly that does not exist in the search paths.
- The assembly is missing from the expected directories, such as the NuGet packages folder, the GAC (Global Assembly Cache), or other specified locations.
- A dependency of the assembly is missing or cannot be resolved, causing a cascading failure.
- The project targets a specific framework, but the assembly reference is incompatible with that framework.

#### Suggested Resolutions
- Verify that the assembly name and version specified in the project file are correct.
- Ensure that the required assembly is present in the expected search locations.
- If the assembly is a NuGet package, make sure the package is restored properly using `dotnet restore` or `nuget restore`.
- Check the target framework of the project and confirm that the assembly is compatible with it. Update the assembly or project configuration if needed.
- Use binding redirects in the configuration file to resolve version conflicts, if applicable.

### Instance 2: Incorrect Search Paths or Environment Configuration

#### Context
This error can also occur when the search paths provided to the ResolveAssemblyReferences task are misconfigured or incomplete. MSBuild relies on specific directories, such as the output directory, reference paths, or hint paths, to locate assemblies.

#### Possible Cause
- The `ReferencePath` or `HintPath` properties in the project file or build process are not configured correctly.
- An environment variable or build property that specifies search paths is missing or incorrectly set.
- A build tool or SDK dependency is not installed or improperly configured in the development environment.

#### Suggested Resolutions
- Review and correct the `ReferencePath` and `HintPath` configurations in the project file.
- Check the environment variables or build properties that influence assembly resolution, such as `MSBuildExtensionsPath` or `AssemblySearchPaths`.
- Ensure that the required SDKs, tools, and dependencies are installed on the build machine.
- Use logging or diagnostic tools (e.g., `msbuild /v:diag`) to identify the search paths MSBuild is using and ensure they are correct.

### Instance 3: Conflicts Between Multiple Versions of the Same Assembly

#### Context
The error is logged when MSBuild encounters multiple versions of the same assembly in the search paths and fails to determine which version to use. This scenario often arises in projects with complex dependency graphs or multiple package references.

#### Possible Cause
- Two or more dependencies reference different versions of the same assembly, and MSBuild cannot resolve the conflict automatically.
- The project explicitly references multiple versions of the same assembly without providing a clear resolution strategy.
- Incompatible dependencies are included in the project, causing version conflicts.

#### Suggested Resolutions
- Use a dependency resolution tool, such as `dotnet list package --outdated`, to identify and resolve version conflicts.
- Consolidate assembly versions by updating all dependencies to use a single version of the conflicting assembly.
- Implement assembly binding redirects in the application configuration file to force the use of a specific version.
- If the issue arises from transitive dependencies, consider excluding problematic versions using the `ExcludeAssets` property in the project file.

### Instance 4: Corrupt or Inaccessible Assembly Files

#### Context
The error is triggered when an assembly file exists but is either corrupt or inaccessible due to file system permissions or other issues. MSBuild fails to load or validate the file during assembly resolution.

#### Possible Cause
- The assembly file is corrupted or incomplete.
- File system permissions prevent MSBuild from accessing the assembly file.
- The assembly file is locked by another process, causing the build to fail.
- Network or file share issues prevent access to the location where the assembly is stored.

#### Suggested Resolutions
- Verify the integrity of the assembly file by attempting to load it using tools like ILDasm or a decompiler.
- Ensure that MSBuild has the necessary permissions to access the file and directory.
- Close any processes that might be locking the assembly file, or restart the machine to release locks.
- If the assembly is stored on a network share, ensure that the share is accessible and properly configured.

### Instance 5: Framework-Specific Targeting Issues

#### Context
The error may occur when resolving framework-specific assemblies, particularly when targeting .NET Framework, .NET Core, or .NET Standard. MSBuild may fail to locate the appropriate version of an assembly for the targeted framework.

#### Possible Cause
- The project references an assembly that is not available for the targeted framework.
- A framework compatibility issue arises between the project and one of its dependencies.
- The build system uses an older version of MSBuild or the .NET SDK that lacks support for the targeted framework.

#### Suggested Resolutions
- Verify that all referenced assemblies are compatible with the targeted framework.
- Update the .NET SDK and MSBuild to the latest version to ensure compatibility with the targeted framework.
- Use multi-targeting to explicitly target multiple frameworks, if necessary, and ensure that dependencies are resolved correctly for each target.

## Conclusion

The MSB3245 error in MSBuild is typically caused by issues with assembly resolution, such as missing references, misconfigured search paths, version conflicts, or framework incompatibilities. By carefully reviewing project configurations, resolving dependency conflicts, and ensuring the integrity of the build environment, developers can address this error effectively. Use diagnostic logging and dependency analysis tools to gain additional insights into the root cause of the problem.
